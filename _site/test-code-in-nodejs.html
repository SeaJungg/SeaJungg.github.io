<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Node JS 환경에서의 API 테스트 코드 작성 방법</title><!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Node JS 환경에서의 API 테스트 코드 작성 방법" />
<meta name="author" content="Sea Jung" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="현상 파악" />
<meta property="og:description" content="현상 파악" />
<link rel="canonical" href="http://localhost:4000/test-code-in-nodejs.html" />
<meta property="og:url" content="http://localhost:4000/test-code-in-nodejs.html" />
<meta property="og:site_name" content="정세아입니다." />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-04-02T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Node JS 환경에서의 API 테스트 코드 작성 방법" />
<script type="application/ld+json">
{"url":"http://localhost:4000/test-code-in-nodejs.html","headline":"Node JS 환경에서의 API 테스트 코드 작성 방법","dateModified":"2022-04-02T00:00:00+09:00","datePublished":"2022-04-02T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/test-code-in-nodejs.html"},"author":{"@type":"Person","name":"Sea Jung"},"description":"현상 파악","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="정세아입니다." /><link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
  <link rel="stylesheet" href="/assets/css/main.css" />
</head><body a="auto">
    <main class="page-content" aria-label="Content">
      <div class="w">
        <a href="/">..</a><article>
  <p class="post-meta">
    <time datetime="2022-04-02 00:00:00 +0900">2022.04.02, 2022년의 13주차</time>
  </p>
  
  <h1>Node JS 환경에서의 API 테스트 코드 작성 방법</h1>

  <h3 id="현상-파악">현상 파악</h3>

<blockquote>
  <p>api 테스트의 시간적 비용이 너무 크다.</p>
  <ul>
    <li>api의 기본적인 I/O 맞추는 게 의외로 너무너무 오래 걸렸다.고작 오타 하나, NULL처리 미숙으로 인해, 열다섯 개쯤 되는 필수값을 프론트 화면에서 일일이 넣어서 한 번 더 post request를 날려야만 테스트가 된다.<br />(등록-수정-put요청-앗!-등록…)</li>
    <li>DB데이터 재정리 시간이 너무 길다. DB를 정리하느니 그냥 처음부터 하는 게 빠를 정도(너무나도 귀찮아진다.) DB에 의존하는 CRUD api인데 자동 롤백 기능을 만들지 않았었다.</li>
  </ul>
</blockquote>

<h3 id="개선-목표">개선 목표</h3>
<ul>
  <li>프론트 화면 없이도, Test-case가 알아보기 쉽게 정리될 수 있는 테스트 환경 만들기.</li>
  <li>기본적인 예외field 때문에 소요되는 프론트엔드 팀과의 커뮤니케이션 시간 단축하기.(NULL, 공백, default값과 같이.. 돌발적이지만 식상한 것들.)</li>
  <li>api를 3개 이상 만들어야 하는 프로젝트에서, 각 api간 독립성이 보장된 테스트 환경 만들기.</li>
</ul>

<h3 id="해결-방안">해결 방안</h3>
<ul>
  <li>Mocha test : Node.js 의 함수 테스트 프레임워크. 인턴 후배님이 사용하셔서 알게 됨.</li>
  <li>super test : Mocha 위에서 돌아가는, API 단위의 테스트. 익스프레스 서버를 구동시켜서 실제 요청 후 결과를 검증한다. 역시 내가 뭔가 필요하다 싶으면 이미 세상에 있다. 무작정 request 보내고 response를 log에서 찾던 나의 시간들 안녕..</li>
</ul>


</article>
      </div>
    </main>
  </body>
</html>